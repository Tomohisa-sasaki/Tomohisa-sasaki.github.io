<!-- templates/index.html -->
{% extends "base.html" %} <!-- base.htmlを継承して共通枠組みを使用 -->

{% block title %}ホーム - 筋トレログ{% endblock %} <!-- タイトルブロックを上書き -->

{% block content %} <!-- ここからページ固有領域 -->
  <section>
    <h2>Latest Workout</h2> <!-- 見出し -->
    {% if workouts and workouts|length > 0 %} <!-- データの有無を判定（フィルタlength） -->
      <table class="table"> <!-- 簡易テーブル -->
        <thead>
          <tr>
            <th>Date</th><th>Workout</th><th>セット</th><th>回数</th><th>メモ</th>
          </tr>
        </thead>
        <tbody>
          {% for w in workouts %} <!-- リストを走査 -->
          <tr>
            <td>{{ w.date.strftime("%Y-%m-%d") }}</td> <!-- date型→文字列整形 -->
            <td>{{ w.name }}</td>                       <!-- 種目名（自動エスケープ） -->
            <td>{{ w.sets }}</td>                       <!-- セット数 -->
            <td>{{ w.reps }}</td>                       <!-- 回数 -->
            <td>{{ w.notes }}</td>                      <!-- メモ（HTMLはエスケープで安全側） -->
          </tr>
          {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>まだ記録がありません。まずは<a href="{{ url_for('new_workouts') }}">新規登録</a>から。</p> <!-- 案内 -->
    {% endif %}
  </section>
{% endblock %}
