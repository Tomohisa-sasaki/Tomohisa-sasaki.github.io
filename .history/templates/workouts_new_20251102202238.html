<!-- templates/workouts_new.html -->
{% extends "base.html" %} <!-- 共通レイアウト継承 -->

{% block title %}新規ワークアウト - 筋トレログ{% endblock %} <!-- ページタイトル -->

{% block content %} <!-- 本文ブロック開始 -->
  <section>
    <h2>Add </h2> <!-- 見出し -->

    {% if error %} <!-- Python側から渡されたerrorがあれば表示 -->
      <div class="alert">{{ error }}</div> <!-- 簡単なエラーメッセージ領域 -->
    {% endif %}

    <!-- actionに未指定→現在のURLにPOSTされる。method="post"でPOST送信 -->
    <form method="post" class="form">
      <div class="form-row">
        <label for="workout_date">日付</label> <!-- 入力のラベル -->
        <!-- HTML5のdate入力。valueはフォーム再描画時に前回値を保持 -->
        <input type="date" id="workout_date" name="workout_date"
               value="{{ form.workout_date if form else '' }}" required>
      </div>

      <div class="form-row">
        <label for="name">種目</label>
        <input type="text" id="name" name="name"
               value="{{ form.name if form else '' }}" placeholder="Bench Pressなど" required>
      </div>

      <div class="form-row">
        <label for="sets">セット</label>
        <input type="number" id="sets" name="sets"
               value="{{ form.sets if form else '5' }}" min="0" step="1">
      </div>

      <div class="form-row">
        <label for="reps">回数</label>
        <input type="number" id="reps" name="reps"
               value="{{ form.reps if form else '5' }}" min="0" step="1">
      </div>

      <div class="form-row">
        <label for="notes">メモ</label>
        <textarea id="notes" name="notes" rows="3"
                  placeholder="重量や体感など">{{ form.notes if form else '' }}</textarea>
      </div>

      <div class="form-actions">
        <button type="submit">保存する</button> <!-- フォーム送信ボタン -->
        <a class="link" href="{{ url_for('index') }}">一覧へ戻る</a> <!-- キャンセル的導線 -->
      </div>
    </form>
  </section>
{% endblock %}